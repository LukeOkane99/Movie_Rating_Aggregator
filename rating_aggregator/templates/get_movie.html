{% extends "layout.html" %}
{% block content %}
    <div class="page_content">
        <div style="display: inline-block; text-align: center;">
            <div class="movie-heading">
                <h1 class="page_tites" style="color: whitesmoke;"><b>{{ movie.title }}</b> ({{ movie.year }}) </h1>
                    {% if current_user.is_authenticated %}
                        {% if watchlist_entry %}
                            <form action='{{ url_for("delete_from_watchlist", user_id=current_user.id, movie_id=movie.movieId, name=movie.title, year=movie.year) }}' method=post>
                                <button type="submit" name="remove_movie" style="border: none; background: none;">
                                    <span title="Remove from watchlist"><i class="fa fa-trash trash-button" style="font-size: 25px; padding-left: 1rem;"></i></span>
                                </button>
                            </form>
                        {% else %}
                            <form action='{{ url_for("add_to_watchlist", user_id=current_user.id, movie_id=movie.movieId, name=movie.title, year=movie.year) }}' method=post>
                                <button type="submit" name="add_movie" style="border: none; background: none;">
                                    <span title="Add to watchlist"><i class="fa fa-plus-square trash-button" style="font-size: 25px; padding-left: 1rem;"></i></span>
                                </button>
                            </form>
                        {% endif %}
                    {% endif %}
            </div>
            <div style="padding-bottom: 5rem; width: 25%; margin: 0 auto;">
                <div class="rating-block">
                    <div class="rating-circle" style="width: 150px; height: 150px; line-height: 150px; font-size: 50px; border: 2px solid black; margin: 0rem;">{{ movie["average_rating"] }}</div>
                    <div style="display: inline-block; text-align: left;">
                        <ul style="list-style-type: none; color: whitesmoke; font-family: sans-serif; margin: 0 auto; font-size: 1.2rem; line-height: 1.4; padding-bottom: 2rem;">
                            <li>IMDb: <b>{{ movie["imdb_rating"] }}</b></li>
                            <li>Metascore: <b>{{ movie["metascore"] }}</b></li>
                            <li>Tomatometer: <b>{{ movie["tomatometer"] }}</b></li>
                            <li>Audience Score: <b>{{ movie["audience_score"] }}</b></li>
                            <li>Letterboxd: <b>{{ movie["letterboxd_rating"] }}</b></li>
                            <li>TMDb: <b>{{ movie["tmdb_rating"] }}</b></li>
                        </ul>
                    </div>
                </div>  
            </div>
            <div style="width: 50%; margin: 0 auto; padding-top: 5rem;">
                <p style="text-align: left; font-family: sans-serif; color: whitesmoke; font-weight: bolder; padding-bottom: 2rem; font-size: 1.4rem; text-align: left; line-height: 1.8rem;"><img style="width: auto; height: auto; margin: auto; max-width:450px; max-height:450px; display: inline-block; margin-right: 1rem; border: 2px solid black; float: left;" src="{{ image }}">{{ movie["synopsis"] }}</p>
            </div>
        </div>    
    </div>
{% endblock content %}